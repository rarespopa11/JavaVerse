{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rares\\\\Documents\\\\licentaV3\\\\java-verse\\\\src\\\\components\\\\AuthSuccess.js\",\n  _s = $RefreshSig$();\n// src/components/AuthSuccess.js - Componentă pentru gestionarea succesului Google OAuth\nimport React, { useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useToast } from './ToastProvider';\nimport { useAccessibility } from '../hooks/useAccessibility';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AuthSuccess({\n  setIsAuthenticated\n}) {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const toast = useToast();\n  const {\n    isAccessibilityMode,\n    announceFormSuccess\n  } = useAccessibility();\n  useEffect(() => {\n    const params = new URLSearchParams(location.search);\n    const token = params.get('token');\n    const userId = params.get('userId');\n    if (token && userId) {\n      // Salvăm datele în sessionStorage\n      sessionStorage.setItem('authToken', token);\n      sessionStorage.setItem('userId', userId);\n\n      // Setăm starea de autentificare\n      setIsAuthenticated(true);\n\n      // Afișăm mesajul de succes\n      const successMessage = 'Autentificare Google reușită! Bine ai venit în JavaVerse!';\n      toast.success(successMessage);\n      if (isAccessibilityMode) {\n        announceFormSuccess(successMessage);\n      }\n\n      // Redirecționăm către pagina principală\n      navigate('/', {\n        replace: true\n      });\n    } else {\n      // Dacă nu avem datele necesare, redirecționăm către login cu eroare\n      toast.error('Eroare la autentificarea Google. Te rugăm să încerci din nou.');\n      navigate('/login?error=auth_failed', {\n        replace: true\n      });\n    }\n  }, [location, navigate, setIsAuthenticated, toast, isAccessibilityMode, announceFormSuccess]);\n\n  // Afișăm un loading simplu în timp ce procesăm datele\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '100vh',\n      flexDirection: 'column',\n      gap: '1rem'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: '1.2rem',\n        color: '#666'\n      },\n      children: \"Se proceseaz\\u0103 autentificarea...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '40px',\n        height: '40px',\n        border: '4px solid #f3f3f3',\n        borderTop: '4px solid #4285f4',\n        borderRadius: '50%',\n        animation: 'spin 1s linear infinite'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthSuccess, \"obOcK63cfP3YYBU9JaV/EENo6lk=\", false, function () {\n  return [useNavigate, useLocation, useToast, useAccessibility];\n});\n_c = AuthSuccess;\nexport default AuthSuccess;\nvar _c;\n$RefreshReg$(_c, \"AuthSuccess\");","map":{"version":3,"names":["React","useEffect","useNavigate","useLocation","useToast","useAccessibility","jsxDEV","_jsxDEV","AuthSuccess","setIsAuthenticated","_s","navigate","location","toast","isAccessibilityMode","announceFormSuccess","params","URLSearchParams","search","token","get","userId","sessionStorage","setItem","successMessage","success","replace","error","style","display","justifyContent","alignItems","height","flexDirection","gap","children","fontSize","color","fileName","_jsxFileName","lineNumber","columnNumber","width","border","borderTop","borderRadius","animation","jsx","_c","$RefreshReg$"],"sources":["C:/Users/rares/Documents/licentaV3/java-verse/src/components/AuthSuccess.js"],"sourcesContent":["// src/components/AuthSuccess.js - Componentă pentru gestionarea succesului Google OAuth\r\nimport React, { useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useToast } from './ToastProvider';\r\nimport { useAccessibility } from '../hooks/useAccessibility';\r\n\r\nfunction AuthSuccess({ setIsAuthenticated }) {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const toast = useToast();\r\n  const { isAccessibilityMode, announceFormSuccess } = useAccessibility();\r\n\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(location.search);\r\n    const token = params.get('token');\r\n    const userId = params.get('userId');\r\n\r\n    if (token && userId) {\r\n      // Salvăm datele în sessionStorage\r\n      sessionStorage.setItem('authToken', token);\r\n      sessionStorage.setItem('userId', userId);\r\n      \r\n      // Setăm starea de autentificare\r\n      setIsAuthenticated(true);\r\n      \r\n      // Afișăm mesajul de succes\r\n      const successMessage = 'Autentificare Google reușită! Bine ai venit în JavaVerse!';\r\n      toast.success(successMessage);\r\n      \r\n      if (isAccessibilityMode) {\r\n        announceFormSuccess(successMessage);\r\n      }\r\n      \r\n      // Redirecționăm către pagina principală\r\n      navigate('/', { replace: true });\r\n    } else {\r\n      // Dacă nu avem datele necesare, redirecționăm către login cu eroare\r\n      toast.error('Eroare la autentificarea Google. Te rugăm să încerci din nou.');\r\n      navigate('/login?error=auth_failed', { replace: true });\r\n    }\r\n  }, [location, navigate, setIsAuthenticated, toast, isAccessibilityMode, announceFormSuccess]);\r\n\r\n  // Afișăm un loading simplu în timp ce procesăm datele\r\n  return (\r\n    <div style={{ \r\n      display: 'flex', \r\n      justifyContent: 'center', \r\n      alignItems: 'center', \r\n      height: '100vh',\r\n      flexDirection: 'column',\r\n      gap: '1rem'\r\n    }}>\r\n      <div style={{ \r\n        fontSize: '1.2rem',\r\n        color: '#666'\r\n      }}>\r\n        Se procesează autentificarea...\r\n      </div>\r\n      <div style={{\r\n        width: '40px',\r\n        height: '40px',\r\n        border: '4px solid #f3f3f3',\r\n        borderTop: '4px solid #4285f4',\r\n        borderRadius: '50%',\r\n        animation: 'spin 1s linear infinite'\r\n      }} />\r\n      <style jsx>{`\r\n        @keyframes spin {\r\n          0% { transform: rotate(0deg); }\r\n          100% { transform: rotate(360deg); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthSuccess;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}