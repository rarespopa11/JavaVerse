{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rares\\\\Documents\\\\licentaV3\\\\java-verse\\\\src\\\\components\\\\CourseDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport '../styles/CourseDetailPage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CourseDetailPage() {\n  _s();\n  const {\n    courseId,\n    lessonId\n  } = useParams(); // Obținem courseId și lessonId din URL\n  const navigate = useNavigate();\n  const [course, setCourse] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [currentLessonIndex, setCurrentLessonIndex] = useState(parseInt(lessonId) || 0); // Începe de la lecția 0\n  const [isPreview, setIsPreview] = useState(true); // Gestionăm vizualizarea previzualizării\n  const [openLessonIndex, setOpenLessonIndex] = useState(null); // Starea pentru lecțiile deschise\n  const [savingProgress, setSavingProgress] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Obține userId și token din localStorage\n  const userId = localStorage.getItem('userId');\n  const authToken = localStorage.getItem('authToken');\n  useEffect(() => {\n    const fetchCourse = async () => {\n      try {\n        const response = await fetch(`http://localhost:5000/api/courses/${courseId}`);\n        if (!response.ok) {\n          throw new Error(`Failed to fetch course. Status: ${response.status}`);\n        }\n        const data = await response.json();\n        if (data.course) {\n          setCourse(data.course);\n          setLoading(false);\n        } else {\n          throw new Error('Course data not available');\n        }\n      } catch (error) {\n        console.error('Error fetching course:', error);\n        setError('Nu am putut încărca cursul. Te rugăm să încerci din nou.');\n        setLoading(false);\n      }\n    };\n    fetchCourse();\n  }, [courseId]);\n\n  // Funcție pentru salvarea progresului utilizatorului\n  const saveUserProgress = async completedLessons => {\n    if (!userId || !authToken) {\n      console.log('Utilizatorul nu este autentificat. Progresul nu va fi salvat.');\n      return;\n    }\n    setSavingProgress(true);\n    try {\n      const response = await fetch('http://localhost:5000/api/user/progress', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${authToken}`\n        },\n        body: JSON.stringify({\n          userId,\n          courseId,\n          completedLessons,\n          totalLessons: course.totalLessons,\n          // Nu modificăm scorul testului, doar progresul lecțiilor\n          testScore: null // Punem null pentru a nu afecta scorul testului existent\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        console.log(`Progresul utilizatorului a fost salvat. Lecții completate: ${completedLessons}`);\n      } else {\n        console.error('Eroare la salvarea progresului:', data.message);\n      }\n    } catch (error) {\n      console.error('Eroare la salvarea progresului:', error);\n    } finally {\n      setSavingProgress(false);\n    }\n  };\n\n  // Când se apasă pe Start Course, navigăm la lecția 1\n  const handleStartCourse = () => {\n    setIsPreview(false); // După ce utilizatorul apasă \"Start Course\", trecem la lecția 1\n    setCurrentLessonIndex(0); // Setăm lecția la 1 (lecția 1)\n    navigate(`/courses/${courseId}/lesson/1`); // Navigăm la lecția 1\n  };\n  const handleNextLesson = () => {\n    if (currentLessonIndex < course.content.length - 1) {\n      const nextLessonIndex = currentLessonIndex + 1;\n      setCurrentLessonIndex(nextLessonIndex);\n\n      // Salvăm progresul utilizatorului - lecția curentă + 1 a fost completată\n      saveUserProgress(nextLessonIndex + 1);\n      navigate(`/courses/${courseId}/lesson/${nextLessonIndex + 1}`); // Navigăm corect la lecția următoare\n    }\n  };\n  const handleBack = () => {\n    if (currentLessonIndex === 0) {\n      // Dacă suntem la lecția 1 (lesson 1), butonul Back trebuie să ne ducă la lista de cursuri\n      navigate(`/courses/${courseId}/lesson/0`); // Pagina Course Content\n    } else {\n      const previousLessonIndex = currentLessonIndex - 1;\n      setCurrentLessonIndex(previousLessonIndex);\n      navigate(`/courses/${courseId}/lesson/${previousLessonIndex + 1}`); // Navigăm la lecția anterioară\n    }\n  };\n\n  // Funcția pentru a deschide/închide lecțiile pentru previzualizare\n  const toggleLessonPreview = index => {\n    setOpenLessonIndex(openLessonIndex === index ? null : index); // Toggle între deschidere/închidere\n  };\n  useEffect(() => {\n    // Forțăm un rerender atunci când navigăm la `lesson/0` pentru a reîncărca page content-ul\n    if (lessonId === \"0\" && currentLessonIndex === 0) {\n      setIsPreview(true); // Setăm preview-ul la Course Content\n    }\n  }, [lessonId, currentLessonIndex]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-container\",\n    children: \"Se \\xEEncarc\\u0103 cursul...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error-container\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 21\n  }, this);\n  if (!course) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error-container\",\n    children: \"Cursul nu a fost g\\u0103sit.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 23\n  }, this);\n  const currentLesson = course.content[currentLessonIndex];\n\n  // Navigare către pagina de test\n  const handleStartTest = () => {\n    // Salvăm progresul - toate lecțiile au fost completate\n    saveUserProgress(course.totalLessons);\n    navigate(`/courses/${courseId}/test`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"course-detail-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"course-detail-title\",\n      children: course.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"course-detail-description\",\n      children: course.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), isPreview ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"course-detail-content-title\",\n        children: \"Con\\u021Binutul Cursului:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-preview\",\n        children: course.content.map((lesson, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-preview-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => toggleLessonPreview(index),\n            className: \"lesson-title\",\n            children: lesson.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 17\n          }, this), openLessonIndex === index && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lesson-preview\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: lesson.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 19\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-to-courses-btn\",\n          onClick: () => navigate('/courses'),\n          children: \"\\xCEnapoi la Cursuri\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"start-course-btn\",\n          onClick: handleStartCourse,\n          children: \"\\xCEncepe Cursul\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"course-detail-content-title\",\n        children: \"Con\\u021Binutul Cursului:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-detail-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: currentLesson.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: currentLesson.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"course-lesson-text\",\n          children: currentLesson.examples.map((example, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"pre\", {\n              children: example.code\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: example.explanation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"course-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-btn\",\n          onClick: handleBack,\n          children: currentLessonIndex === 0 ? 'Înapoi la Conținutul Cursului' : 'Lecția Anterioară'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), savingProgress && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"saving-progress\",\n          children: \"Salvare progres...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 32\n        }, this), currentLessonIndex < course.content.length - 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"next-lesson-btn\",\n          onClick: handleNextLesson,\n          disabled: savingProgress,\n          children: \"Lec\\u021Bia Urm\\u0103toare\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }, this) :\n        /*#__PURE__*/\n        // Înlocuim mesajul completat cu butonul de test\n        _jsxDEV(\"button\", {\n          className: \"start-test-btn\",\n          onClick: handleStartTest,\n          disabled: savingProgress,\n          children: \"\\xCEncepe Testul\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\n_s(CourseDetailPage, \"dBx5hTWKt9Gkgrqa+lRSCjcTJ6I=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = CourseDetailPage;\nexport default CourseDetailPage;\nvar _c;\n$RefreshReg$(_c, \"CourseDetailPage\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","CourseDetailPage","_s","courseId","lessonId","navigate","course","setCourse","loading","setLoading","currentLessonIndex","setCurrentLessonIndex","parseInt","isPreview","setIsPreview","openLessonIndex","setOpenLessonIndex","savingProgress","setSavingProgress","error","setError","userId","localStorage","getItem","authToken","fetchCourse","response","fetch","ok","Error","status","data","json","console","saveUserProgress","completedLessons","log","method","headers","body","JSON","stringify","totalLessons","testScore","success","message","handleStartCourse","handleNextLesson","content","length","nextLessonIndex","handleBack","previousLessonIndex","toggleLessonPreview","index","className","children","fileName","_jsxFileName","lineNumber","columnNumber","currentLesson","handleStartTest","name","description","map","lesson","onClick","title","examples","example","code","explanation","disabled","_c","$RefreshReg$"],"sources":["C:/Users/rares/Documents/licentaV3/java-verse/src/components/CourseDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport '../styles/CourseDetailPage.css';\r\n\r\nfunction CourseDetailPage() {\r\n  const { courseId, lessonId } = useParams(); // Obținem courseId și lessonId din URL\r\n  const navigate = useNavigate();\r\n  const [course, setCourse] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentLessonIndex, setCurrentLessonIndex] = useState(parseInt(lessonId) || 0); // Începe de la lecția 0\r\n  const [isPreview, setIsPreview] = useState(true); // Gestionăm vizualizarea previzualizării\r\n  const [openLessonIndex, setOpenLessonIndex] = useState(null); // Starea pentru lecțiile deschise\r\n  const [savingProgress, setSavingProgress] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Obține userId și token din localStorage\r\n  const userId = localStorage.getItem('userId');\r\n  const authToken = localStorage.getItem('authToken');\r\n\r\n  useEffect(() => {\r\n    const fetchCourse = async () => {\r\n      try {\r\n        const response = await fetch(`http://localhost:5000/api/courses/${courseId}`);\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`Failed to fetch course. Status: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        \r\n        if (data.course) {\r\n          setCourse(data.course);\r\n          setLoading(false);\r\n        } else {\r\n          throw new Error('Course data not available');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching course:', error);\r\n        setError('Nu am putut încărca cursul. Te rugăm să încerci din nou.');\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchCourse();\r\n  }, [courseId]);\r\n\r\n  // Funcție pentru salvarea progresului utilizatorului\r\n  const saveUserProgress = async (completedLessons) => {\r\n    if (!userId || !authToken) {\r\n      console.log('Utilizatorul nu este autentificat. Progresul nu va fi salvat.');\r\n      return;\r\n    }\r\n\r\n    setSavingProgress(true);\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/user/progress', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${authToken}`\r\n        },\r\n        body: JSON.stringify({\r\n          userId,\r\n          courseId,\r\n          completedLessons,\r\n          totalLessons: course.totalLessons,\r\n          // Nu modificăm scorul testului, doar progresul lecțiilor\r\n          testScore: null // Punem null pentru a nu afecta scorul testului existent\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        console.log(`Progresul utilizatorului a fost salvat. Lecții completate: ${completedLessons}`);\r\n      } else {\r\n        console.error('Eroare la salvarea progresului:', data.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Eroare la salvarea progresului:', error);\r\n    } finally {\r\n      setSavingProgress(false);\r\n    }\r\n  };\r\n\r\n  // Când se apasă pe Start Course, navigăm la lecția 1\r\n  const handleStartCourse = () => {\r\n    setIsPreview(false); // După ce utilizatorul apasă \"Start Course\", trecem la lecția 1\r\n    setCurrentLessonIndex(0); // Setăm lecția la 1 (lecția 1)\r\n    navigate(`/courses/${courseId}/lesson/1`); // Navigăm la lecția 1\r\n  };\r\n\r\n  const handleNextLesson = () => {\r\n    if (currentLessonIndex < course.content.length - 1) {\r\n      const nextLessonIndex = currentLessonIndex + 1;\r\n      setCurrentLessonIndex(nextLessonIndex);\r\n      \r\n      // Salvăm progresul utilizatorului - lecția curentă + 1 a fost completată\r\n      saveUserProgress(nextLessonIndex + 1);\r\n      \r\n      navigate(`/courses/${courseId}/lesson/${nextLessonIndex + 1}`); // Navigăm corect la lecția următoare\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (currentLessonIndex === 0) {\r\n      // Dacă suntem la lecția 1 (lesson 1), butonul Back trebuie să ne ducă la lista de cursuri\r\n      navigate(`/courses/${courseId}/lesson/0`); // Pagina Course Content\r\n    } else {\r\n      const previousLessonIndex = currentLessonIndex - 1;\r\n      setCurrentLessonIndex(previousLessonIndex);\r\n      navigate(`/courses/${courseId}/lesson/${previousLessonIndex + 1}`); // Navigăm la lecția anterioară\r\n    }\r\n  };\r\n\r\n  // Funcția pentru a deschide/închide lecțiile pentru previzualizare\r\n  const toggleLessonPreview = (index) => {\r\n    setOpenLessonIndex(openLessonIndex === index ? null : index); // Toggle între deschidere/închidere\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Forțăm un rerender atunci când navigăm la `lesson/0` pentru a reîncărca page content-ul\r\n    if (lessonId === \"0\" && currentLessonIndex === 0) {\r\n      setIsPreview(true); // Setăm preview-ul la Course Content\r\n    }\r\n  }, [lessonId, currentLessonIndex]);\r\n\r\n  if (loading) return <div className=\"loading-container\">Se încarcă cursul...</div>;\r\n  if (error) return <div className=\"error-container\">{error}</div>;\r\n  if (!course) return <div className=\"error-container\">Cursul nu a fost găsit.</div>;\r\n\r\n  const currentLesson = course.content[currentLessonIndex];\r\n\r\n  // Navigare către pagina de test\r\n  const handleStartTest = () => {\r\n    // Salvăm progresul - toate lecțiile au fost completate\r\n    saveUserProgress(course.totalLessons);\r\n    \r\n    navigate(`/courses/${courseId}/test`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"course-detail-page\">\r\n      <h1 className=\"course-detail-title\">{course.name}</h1>\r\n      <p className=\"course-detail-description\">{course.description}</p>\r\n\r\n      {isPreview ? (\r\n        <>\r\n          <h3 className=\"course-detail-content-title\">Conținutul Cursului:</h3>\r\n          <div className=\"course-preview\">\r\n            {course.content.map((lesson, index) => (\r\n              <div key={index} className=\"course-preview-item\">\r\n                <div onClick={() => toggleLessonPreview(index)} className=\"lesson-title\">\r\n                  {lesson.title}\r\n                </div>\r\n\r\n                {/* Dropdown-ul pentru lecția selectată */}\r\n                {openLessonIndex === index && (\r\n                  <div className=\"lesson-preview\">\r\n                    <p>{lesson.content}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"course-buttons\">\r\n            <button className=\"back-to-courses-btn\" onClick={() => navigate('/courses')}>\r\n              Înapoi la Cursuri\r\n            </button>\r\n            <button className=\"start-course-btn\" onClick={handleStartCourse}>\r\n              Începe Cursul\r\n            </button>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <h3 className=\"course-detail-content-title\">Conținutul Cursului:</h3>\r\n          <div className=\"course-detail-content\">\r\n            <h4>{currentLesson.title}</h4>\r\n            <p>{currentLesson.content}</p>\r\n            <div className=\"course-lesson-text\">\r\n              {currentLesson.examples.map((example, index) => (\r\n                <div key={index}>\r\n                  <pre>{example.code}</pre>\r\n                  <p>{example.explanation}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"course-buttons\">\r\n            <button className=\"back-btn\" onClick={handleBack}>\r\n              {currentLessonIndex === 0 ? 'Înapoi la Conținutul Cursului' : 'Lecția Anterioară'}\r\n            </button>\r\n\r\n            {savingProgress && <span className=\"saving-progress\">Salvare progres...</span>}\r\n\r\n            {currentLessonIndex < course.content.length - 1 ? (\r\n              <button \r\n                className=\"next-lesson-btn\" \r\n                onClick={handleNextLesson}\r\n                disabled={savingProgress}\r\n              >\r\n                Lecția Următoare\r\n              </button>\r\n            ) : (\r\n              // Înlocuim mesajul completat cu butonul de test\r\n              <button \r\n                className=\"start-test-btn\" \r\n                onClick={handleStartTest}\r\n                disabled={savingProgress}\r\n              >\r\n                Începe Testul\r\n              </button>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CourseDetailPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}