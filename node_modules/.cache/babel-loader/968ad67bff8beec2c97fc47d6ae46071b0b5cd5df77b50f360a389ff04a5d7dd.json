{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rares\\\\Documents\\\\licentaV3\\\\java-verse\\\\src\\\\components\\\\CodeEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useToast } from './ToastProvider';\nimport '../styles/CodeEditor.css';\nimport Button from './Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CodeEditor({\n  initialCode,\n  lessonId,\n  onChange,\n  editorKey\n}) {\n  _s();\n  const defaultCode = `public class Main {\n    public static void main(String[] args) {\n        // Scrie codul tÄƒu aici\n        System.out.println(\"Bine ai venit la JavaVerse!\");\n    }\n}`;\n  const [output, setOutput] = useState('');\n  const [isRunning, setIsRunning] = useState(false);\n  const [isEditorReady, setIsEditorReady] = useState(false);\n  const [isEditorLoading, setIsEditorLoading] = useState(true);\n  const [feedback, setFeedback] = useState('');\n  const [showFeedback, setShowFeedback] = useState(false);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const monacoRef = useRef(null);\n  const editorRef = useRef(null);\n  const toast = useToast();\n\n  // IniÈ›ializarea Monaco Editor\n  useEffect(() => {\n    let isMounted = true;\n    const loadMonacoEditor = async () => {\n      try {\n        console.log('ðŸ“¦ Loading Monaco Editor...');\n        setIsEditorLoading(true);\n        const monaco = await import('@monaco-editor/react');\n        if (isMounted) {\n          console.log('âœ… Monaco Editor loaded successfully');\n          monacoRef.current = monaco;\n          setIsEditorLoading(false);\n          setIsEditorReady(true);\n        }\n      } catch (error) {\n        console.error('âŒ Error loading Monaco Editor:', error);\n        if (isMounted) {\n          setIsEditorLoading(false);\n          toast.error('Nu s-a putut Ã®ncÄƒrca editorul de cod.');\n        }\n      }\n    };\n    loadMonacoEditor();\n    return () => {\n      isMounted = false;\n    };\n  }, [toast]);\n  const handleEditorDidMount = (editor, monaco) => {\n    console.log('ðŸš€ Editor mounted');\n    editorRef.current = editor;\n\n    // SetÄƒm un atribut pentru identificare\n    const editorContainer = editor.getDomNode();\n    if (editorContainer) {\n      editorContainer.setAttribute('data-editor-type', 'monaco');\n      editorContainer.classList.add('monaco-editor-instance');\n\n      // GÄƒsim containerul pÄƒrinte È™i Ã®l marcÄƒm\n      const parentContainer = editorContainer.closest('.editor-wrapper');\n      if (parentContainer) {\n        parentContainer.classList.add('monaco-editor-container');\n      }\n    }\n\n    // StocÄƒm referinÈ›a editorului Ã®n window pentru accesibilitate\n    if (!window.monacoEditors) {\n      window.monacoEditors = [];\n    }\n    window.monacoEditors.push(editor);\n    setIsEditorReady(true);\n    setIsEditorLoading(false);\n\n    // SetÄƒm valoarea iniÈ›ialÄƒ\n    const codeToSet = initialCode || defaultCode;\n    editor.setValue(codeToSet);\n\n    // AdÄƒugÄƒm listener pentru schimbÄƒri\n    editor.onDidChangeModelContent(() => {\n      if (onChange) {\n        const currentCode = editor.getValue();\n        onChange(currentCode);\n      }\n    });\n    editor.focus();\n  };\n  const handleRunCode = async () => {\n    console.log('ðŸƒ Running code...');\n    if (!isEditorReady || !editorRef.current) {\n      console.log('âš ï¸ Editor not ready');\n      toast.warning('Editorul nu este pregÄƒtit Ã®ncÄƒ. Te rugÄƒm sÄƒ aÈ™tepÈ›i.');\n      return;\n    }\n\n    // ObÈ›inem codul direct din editor\n    const codeToRun = editorRef.current.getValue();\n    console.log('ðŸƒ Code to run:', codeToRun.substring(0, 100));\n\n    // VerificÄƒm cÄƒ avem cod de rulat\n    if (!codeToRun || codeToRun.trim() === '') {\n      toast.warning('Te rugÄƒm sÄƒ scrii cod Ã®nainte de a-l rula.');\n      return;\n    }\n    setIsRunning(true);\n    setOutput('Se executÄƒ codul...');\n    try {\n      const token = sessionStorage.getItem('authToken');\n      const response = await fetch('http://localhost:5000/api/execute-code', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          code: codeToRun\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        setOutput(data.output || 'Codul a fost executat cu succes!');\n        toast.success('Codul a fost executat cu succes!');\n      } else {\n        setOutput(`Eroare: ${data.error}`);\n        toast.error('Eroare la executarea codului.');\n      }\n    } catch (error) {\n      console.error('Error executing code:', error);\n      setOutput(`Eroare: ${error.message}`);\n      toast.error('Eroare la comunicarea cu serverul.');\n    } finally {\n      setIsRunning(false);\n    }\n  };\n  const handleGetFeedback = async () => {\n    // ObÈ›inem codul direct din editor\n    const codeToAnalyze = editorRef.current ? editorRef.current.getValue() : '';\n    console.log('ðŸ¤– Getting feedback for:', codeToAnalyze.substring(0, 50));\n    if (!codeToAnalyze || codeToAnalyze.trim() === '') {\n      toast.warning('Te rugÄƒm sÄƒ scrii cod Ã®nainte de a cere feedback.');\n      return;\n    }\n    setIsAnalyzing(true);\n    setFeedback('Se analizeazÄƒ codul...');\n    setShowFeedback(true);\n    try {\n      const token = sessionStorage.getItem('authToken');\n      const response = await fetch('http://localhost:5000/api/analyze-code', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          code: codeToAnalyze,\n          lessonId: lessonId\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        setFeedback(data.feedback);\n        toast.success('Feedback generat cu succes!');\n      } else {\n        setFeedback('Nu am putut genera feedback pentru acest cod.');\n        toast.error('Eroare la generarea feedback-ului.');\n      }\n    } catch (error) {\n      console.error('Error getting feedback:', error);\n      setFeedback('Eroare la obÈ›inerea feedback-ului.');\n      toast.error('Eroare la comunicarea cu serverul.');\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n  const handleResetCode = () => {\n    if (window.confirm('Sigur doreÈ™ti sÄƒ resetezi codul? Toate modificÄƒrile vor fi pierdute.')) {\n      const codeToReset = initialCode || defaultCode;\n      console.log('ðŸ”„ Resetting code to:', codeToReset.substring(0, 50));\n      if (editorRef.current) {\n        editorRef.current.setValue(codeToReset);\n      }\n      toast.info('Codul a fost resetat.');\n    }\n  };\n\n  // ActualizÄƒm codul cÃ¢nd se schimbÄƒ initialCode sau editorKey\n  useEffect(() => {\n    if (editorRef.current && isEditorReady && initialCode) {\n      console.log('ðŸ“ Updating editor with new initialCode');\n      editorRef.current.setValue(initialCode);\n    }\n  }, [initialCode, editorKey, isEditorReady]);\n\n  // Cleanup la unmount\n  useEffect(() => {\n    return () => {\n      // CurÄƒÈ›Äƒm referinÈ›a din window\n      if (window.monacoEditors && editorRef.current) {\n        const index = window.monacoEditors.indexOf(editorRef.current);\n        if (index > -1) {\n          window.monacoEditors.splice(index, 1);\n        }\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"code-editor-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Editor de cod Java\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editor-actions\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          size: \"small\",\n          onClick: handleResetCode,\n          icon: \"\\uD83D\\uDD04\",\n          iconPosition: \"left\",\n          \"aria-label\": \"Reseteaz\\u0103 codul la starea ini\\u021Bial\\u0103\",\n          children: \"Reseteaz\\u0103\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"info\",\n          size: \"small\",\n          onClick: handleGetFeedback,\n          disabled: isAnalyzing || !isEditorReady,\n          icon: isAnalyzing ? \"â³\" : \"ðŸ¤–\",\n          iconPosition: \"left\",\n          loading: isAnalyzing,\n          \"aria-label\": isAnalyzing ? 'Se analizeazÄƒ codul' : 'ObÈ›ine feedback AI pentru cod',\n          children: isAnalyzing ? 'Se analizeazÄƒ...' : 'ObÈ›ine feedback AI'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          size: \"small\",\n          onClick: handleRunCode,\n          disabled: isRunning || !isEditorReady,\n          icon: isRunning ? \"â³\" : \"â–¶ï¸\",\n          iconPosition: \"left\",\n          loading: isRunning,\n          \"aria-label\": isRunning ? 'Codul se executÄƒ' : 'ExecutÄƒ codul Java',\n          children: isRunning ? 'Se executÄƒ...' : 'RuleazÄƒ codul'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor-wrapper monaco-editor\",\n      id: \"code-editor\",\n      children: isEditorLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editor-loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Se \\xEEncarc\\u0103 editorul...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this) : monacoRef.current ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"monaco-editor-container\",\n        children: /*#__PURE__*/_jsxDEV(monacoRef.current.default, {\n          height: \"400px\",\n          language: \"java\",\n          theme: \"vs-dark\",\n          defaultValue: initialCode || defaultCode,\n          onMount: handleEditorDidMount,\n          options: {\n            minimap: {\n              enabled: false\n            },\n            fontSize: 14,\n            scrollBeyondLastLine: false,\n            automaticLayout: true,\n            tabSize: 2,\n            folding: true,\n            lineNumbers: 'on',\n            renderLineHighlight: 'all',\n            wordWrap: 'on',\n            formatOnPaste: true,\n            formatOnType: true,\n            readOnly: false,\n            scrollbar: {\n              vertical: 'visible',\n              horizontal: 'visible',\n              useShadows: false,\n              verticalHasArrows: false,\n              horizontalHasArrows: false,\n              verticalScrollbarSize: 10,\n              horizontalScrollbarSize: 10,\n              arrowSize: 30\n            },\n            // OpÈ›iuni pentru accesibilitate\n            accessibilitySupport: 'auto',\n            accessibilityPageSize: 10,\n            ariaLabel: 'Editor de cod Java',\n            screenReaderAnnounceInlineSuggestion: true,\n            // Stil cursor pentru vizibilitate\n            cursorStyle: 'line',\n            cursorBlinking: 'solid',\n            cursorWidth: 2,\n            // DezactivÄƒm sugestiile care pot interfera\n            quickSuggestions: false,\n            suggestOnTriggerCharacters: false,\n            acceptSuggestionOnEnter: 'off',\n            tabCompletion: 'off',\n            wordBasedSuggestions: false,\n            // Prevenim modificÄƒri nedorite\n            dragAndDrop: false,\n            emptySelectionClipboard: false,\n            copyWithSyntaxHighlighting: true,\n            // Alte opÈ›iuni utile\n            contextmenu: true,\n            smoothScrolling: true,\n            mouseWheelZoom: false,\n            multiCursorModifier: 'ctrlCmd',\n            accessibilityVerbose: true\n          }\n        }, editorKey, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"editor-fallback\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Nu s-a putut \\xEEnc\\u0103rca editorul Monaco.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          defaultValue: initialCode || defaultCode,\n          className: \"fallback-editor\",\n          rows: \"20\",\n          placeholder: \"Scrie codul t\\u0103u Java aici...\",\n          \"aria-label\": \"Editor de cod Java alternativ\",\n          id: \"fallback-code-editor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"output-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"output-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Rezultat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        className: \"output-content\",\n        \"aria-label\": \"Rezultatul execu\\u021Biei codului\",\n        children: output || 'RuleazÄƒ codul pentru a vedea rezultatul'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this), showFeedback && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"feedback-container\",\n      role: \"region\",\n      \"aria-label\": \"Feedback AI\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feedback-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Feedback AI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-feedback\",\n          onClick: () => setShowFeedback(false),\n          \"aria-label\": \"\\xCEnchide feedback\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feedback-content\",\n        \"aria-live\": \"polite\",\n        children: feedback\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n}\n_s(CodeEditor, \"FYse+S7BSLSsM8Pee+u65Fy+wDo=\", false, function () {\n  return [useToast];\n});\n_c = CodeEditor;\nexport default CodeEditor;\nvar _c;\n$RefreshReg$(_c, \"CodeEditor\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useToast","Button","jsxDEV","_jsxDEV","CodeEditor","initialCode","lessonId","onChange","editorKey","_s","defaultCode","output","setOutput","isRunning","setIsRunning","isEditorReady","setIsEditorReady","isEditorLoading","setIsEditorLoading","feedback","setFeedback","showFeedback","setShowFeedback","isAnalyzing","setIsAnalyzing","monacoRef","editorRef","toast","isMounted","loadMonacoEditor","console","log","monaco","current","error","handleEditorDidMount","editor","editorContainer","getDomNode","setAttribute","classList","add","parentContainer","closest","window","monacoEditors","push","codeToSet","setValue","onDidChangeModelContent","currentCode","getValue","focus","handleRunCode","warning","codeToRun","substring","trim","token","sessionStorage","getItem","response","fetch","method","headers","body","JSON","stringify","code","data","json","success","message","handleGetFeedback","codeToAnalyze","handleResetCode","confirm","codeToReset","info","index","indexOf","splice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","size","onClick","icon","iconPosition","disabled","loading","id","default","height","language","theme","defaultValue","onMount","options","minimap","enabled","fontSize","scrollBeyondLastLine","automaticLayout","tabSize","folding","lineNumbers","renderLineHighlight","wordWrap","formatOnPaste","formatOnType","readOnly","scrollbar","vertical","horizontal","useShadows","verticalHasArrows","horizontalHasArrows","verticalScrollbarSize","horizontalScrollbarSize","arrowSize","accessibilitySupport","accessibilityPageSize","ariaLabel","screenReaderAnnounceInlineSuggestion","cursorStyle","cursorBlinking","cursorWidth","quickSuggestions","suggestOnTriggerCharacters","acceptSuggestionOnEnter","tabCompletion","wordBasedSuggestions","dragAndDrop","emptySelectionClipboard","copyWithSyntaxHighlighting","contextmenu","smoothScrolling","mouseWheelZoom","multiCursorModifier","accessibilityVerbose","rows","placeholder","role","_c","$RefreshReg$"],"sources":["C:/Users/rares/Documents/licentaV3/java-verse/src/components/CodeEditor.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useToast } from './ToastProvider';\r\nimport '../styles/CodeEditor.css';\r\nimport Button from './Button';\r\n\r\nfunction CodeEditor({ initialCode, lessonId, onChange, editorKey }) {\r\n  const defaultCode = `public class Main {\r\n    public static void main(String[] args) {\r\n        // Scrie codul tÄƒu aici\r\n        System.out.println(\"Bine ai venit la JavaVerse!\");\r\n    }\r\n}`;\r\n\r\n  const [output, setOutput] = useState('');\r\n  const [isRunning, setIsRunning] = useState(false);\r\n  const [isEditorReady, setIsEditorReady] = useState(false);\r\n  const [isEditorLoading, setIsEditorLoading] = useState(true);\r\n  const [feedback, setFeedback] = useState('');\r\n  const [showFeedback, setShowFeedback] = useState(false);\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const monacoRef = useRef(null);\r\n  const editorRef = useRef(null);\r\n  const toast = useToast();\r\n\r\n  // IniÈ›ializarea Monaco Editor\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    \r\n    const loadMonacoEditor = async () => {\r\n      try {\r\n        console.log('ðŸ“¦ Loading Monaco Editor...');\r\n        setIsEditorLoading(true);\r\n        \r\n        const monaco = await import('@monaco-editor/react');\r\n        \r\n        if (isMounted) {\r\n          console.log('âœ… Monaco Editor loaded successfully');\r\n          monacoRef.current = monaco;\r\n          setIsEditorLoading(false);\r\n          setIsEditorReady(true);\r\n        }\r\n      } catch (error) {\r\n        console.error('âŒ Error loading Monaco Editor:', error);\r\n        if (isMounted) {\r\n          setIsEditorLoading(false);\r\n          toast.error('Nu s-a putut Ã®ncÄƒrca editorul de cod.');\r\n        }\r\n      }\r\n    };\r\n\r\n    loadMonacoEditor();\r\n    \r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [toast]);\r\n\r\n  const handleEditorDidMount = (editor, monaco) => {\r\n    console.log('ðŸš€ Editor mounted');\r\n    editorRef.current = editor;\r\n    \r\n    // SetÄƒm un atribut pentru identificare\r\n    const editorContainer = editor.getDomNode();\r\n    if (editorContainer) {\r\n      editorContainer.setAttribute('data-editor-type', 'monaco');\r\n      editorContainer.classList.add('monaco-editor-instance');\r\n      \r\n      // GÄƒsim containerul pÄƒrinte È™i Ã®l marcÄƒm\r\n      const parentContainer = editorContainer.closest('.editor-wrapper');\r\n      if (parentContainer) {\r\n        parentContainer.classList.add('monaco-editor-container');\r\n      }\r\n    }\r\n    \r\n    // StocÄƒm referinÈ›a editorului Ã®n window pentru accesibilitate\r\n    if (!window.monacoEditors) {\r\n      window.monacoEditors = [];\r\n    }\r\n    window.monacoEditors.push(editor);\r\n    \r\n    setIsEditorReady(true);\r\n    setIsEditorLoading(false);\r\n    \r\n    // SetÄƒm valoarea iniÈ›ialÄƒ\r\n    const codeToSet = initialCode || defaultCode;\r\n    editor.setValue(codeToSet);\r\n    \r\n    // AdÄƒugÄƒm listener pentru schimbÄƒri\r\n    editor.onDidChangeModelContent(() => {\r\n      if (onChange) {\r\n        const currentCode = editor.getValue();\r\n        onChange(currentCode);\r\n      }\r\n    });\r\n    \r\n    editor.focus();\r\n  };\r\n\r\n  const handleRunCode = async () => {\r\n    console.log('ðŸƒ Running code...');\r\n    \r\n    if (!isEditorReady || !editorRef.current) {\r\n      console.log('âš ï¸ Editor not ready');\r\n      toast.warning('Editorul nu este pregÄƒtit Ã®ncÄƒ. Te rugÄƒm sÄƒ aÈ™tepÈ›i.');\r\n      return;\r\n    }\r\n\r\n    // ObÈ›inem codul direct din editor\r\n    const codeToRun = editorRef.current.getValue();\r\n    console.log('ðŸƒ Code to run:', codeToRun.substring(0, 100));\r\n    \r\n    // VerificÄƒm cÄƒ avem cod de rulat\r\n    if (!codeToRun || codeToRun.trim() === '') {\r\n      toast.warning('Te rugÄƒm sÄƒ scrii cod Ã®nainte de a-l rula.');\r\n      return;\r\n    }\r\n    \r\n    setIsRunning(true);\r\n    setOutput('Se executÄƒ codul...');\r\n\r\n    try {\r\n      const token = sessionStorage.getItem('authToken');\r\n      \r\n      const response = await fetch('http://localhost:5000/api/execute-code', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ code: codeToRun })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setOutput(data.output || 'Codul a fost executat cu succes!');\r\n        toast.success('Codul a fost executat cu succes!');\r\n      } else {\r\n        setOutput(`Eroare: ${data.error}`);\r\n        toast.error('Eroare la executarea codului.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error executing code:', error);\r\n      setOutput(`Eroare: ${error.message}`);\r\n      toast.error('Eroare la comunicarea cu serverul.');\r\n    } finally {\r\n      setIsRunning(false);\r\n    }\r\n  };\r\n\r\n  const handleGetFeedback = async () => {\r\n    // ObÈ›inem codul direct din editor\r\n    const codeToAnalyze = editorRef.current ? editorRef.current.getValue() : '';\r\n    console.log('ðŸ¤– Getting feedback for:', codeToAnalyze.substring(0, 50));\r\n    \r\n    if (!codeToAnalyze || codeToAnalyze.trim() === '') {\r\n      toast.warning('Te rugÄƒm sÄƒ scrii cod Ã®nainte de a cere feedback.');\r\n      return;\r\n    }\r\n    \r\n    setIsAnalyzing(true);\r\n    setFeedback('Se analizeazÄƒ codul...');\r\n    setShowFeedback(true);\r\n\r\n    try {\r\n      const token = sessionStorage.getItem('authToken');\r\n      \r\n      const response = await fetch('http://localhost:5000/api/analyze-code', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ \r\n          code: codeToAnalyze,\r\n          lessonId: lessonId \r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setFeedback(data.feedback);\r\n        toast.success('Feedback generat cu succes!');\r\n      } else {\r\n        setFeedback('Nu am putut genera feedback pentru acest cod.');\r\n        toast.error('Eroare la generarea feedback-ului.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error getting feedback:', error);\r\n      setFeedback('Eroare la obÈ›inerea feedback-ului.');\r\n      toast.error('Eroare la comunicarea cu serverul.');\r\n    } finally {\r\n      setIsAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const handleResetCode = () => {\r\n    if (window.confirm('Sigur doreÈ™ti sÄƒ resetezi codul? Toate modificÄƒrile vor fi pierdute.')) {\r\n      const codeToReset = initialCode || defaultCode;\r\n      console.log('ðŸ”„ Resetting code to:', codeToReset.substring(0, 50));\r\n      if (editorRef.current) {\r\n        editorRef.current.setValue(codeToReset);\r\n      }\r\n      toast.info('Codul a fost resetat.');\r\n    }\r\n  };\r\n\r\n  // ActualizÄƒm codul cÃ¢nd se schimbÄƒ initialCode sau editorKey\r\n  useEffect(() => {\r\n    if (editorRef.current && isEditorReady && initialCode) {\r\n      console.log('ðŸ“ Updating editor with new initialCode');\r\n      editorRef.current.setValue(initialCode);\r\n    }\r\n  }, [initialCode, editorKey, isEditorReady]);\r\n\r\n  // Cleanup la unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      // CurÄƒÈ›Äƒm referinÈ›a din window\r\n      if (window.monacoEditors && editorRef.current) {\r\n        const index = window.monacoEditors.indexOf(editorRef.current);\r\n        if (index > -1) {\r\n          window.monacoEditors.splice(index, 1);\r\n        }\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"code-editor-container\">\r\n      <div className=\"editor-header\">\r\n        <h3>Editor de cod Java</h3>\r\n        <div className=\"editor-actions\">\r\n          <Button \r\n            variant=\"secondary\"\r\n            size=\"small\"\r\n            onClick={handleResetCode}\r\n            icon=\"ðŸ”„\"\r\n            iconPosition=\"left\"\r\n            aria-label=\"ReseteazÄƒ codul la starea iniÈ›ialÄƒ\"\r\n          >\r\n            ReseteazÄƒ\r\n          </Button>\r\n          <Button \r\n            variant=\"info\"\r\n            size=\"small\"\r\n            onClick={handleGetFeedback}\r\n            disabled={isAnalyzing || !isEditorReady}\r\n            icon={isAnalyzing ? \"â³\" : \"ðŸ¤–\"}\r\n            iconPosition=\"left\"\r\n            loading={isAnalyzing}\r\n            aria-label={isAnalyzing ? 'Se analizeazÄƒ codul' : 'ObÈ›ine feedback AI pentru cod'}\r\n          >\r\n            {isAnalyzing ? 'Se analizeazÄƒ...' : 'ObÈ›ine feedback AI'}\r\n          </Button>\r\n          <Button \r\n            variant=\"primary\"\r\n            size=\"small\"\r\n            onClick={handleRunCode}\r\n            disabled={isRunning || !isEditorReady}\r\n            icon={isRunning ? \"â³\" : \"â–¶ï¸\"}\r\n            iconPosition=\"left\"\r\n            loading={isRunning}\r\n            aria-label={isRunning ? 'Codul se executÄƒ' : 'ExecutÄƒ codul Java'}\r\n          >\r\n            {isRunning ? 'Se executÄƒ...' : 'RuleazÄƒ codul'}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"editor-wrapper monaco-editor\" id=\"code-editor\">\r\n        {isEditorLoading ? (\r\n          <div className=\"editor-loading\">\r\n            <div className=\"loading-spinner\"></div>\r\n            <p>Se Ã®ncarcÄƒ editorul...</p>\r\n          </div>\r\n        ) : monacoRef.current ? (\r\n          <div className=\"monaco-editor-container\">\r\n            <monacoRef.current.default\r\n              key={editorKey}\r\n              height=\"400px\"\r\n              language=\"java\"\r\n              theme=\"vs-dark\"\r\n              defaultValue={initialCode || defaultCode}\r\n              onMount={handleEditorDidMount}\r\n              options={{\r\n                minimap: { enabled: false },\r\n                fontSize: 14,\r\n                scrollBeyondLastLine: false,\r\n                automaticLayout: true,\r\n                tabSize: 2,\r\n                folding: true,\r\n                lineNumbers: 'on',\r\n                renderLineHighlight: 'all',\r\n                wordWrap: 'on',\r\n                formatOnPaste: true,\r\n                formatOnType: true,\r\n                readOnly: false,\r\n                scrollbar: {\r\n                  vertical: 'visible',\r\n                  horizontal: 'visible',\r\n                  useShadows: false,\r\n                  verticalHasArrows: false,\r\n                  horizontalHasArrows: false,\r\n                  verticalScrollbarSize: 10,\r\n                  horizontalScrollbarSize: 10,\r\n                  arrowSize: 30\r\n                },\r\n                // OpÈ›iuni pentru accesibilitate\r\n                accessibilitySupport: 'auto',\r\n                accessibilityPageSize: 10,\r\n                ariaLabel: 'Editor de cod Java',\r\n                screenReaderAnnounceInlineSuggestion: true,\r\n                // Stil cursor pentru vizibilitate\r\n                cursorStyle: 'line',\r\n                cursorBlinking: 'solid',\r\n                cursorWidth: 2,\r\n                // DezactivÄƒm sugestiile care pot interfera\r\n                quickSuggestions: false,\r\n                suggestOnTriggerCharacters: false,\r\n                acceptSuggestionOnEnter: 'off',\r\n                tabCompletion: 'off',\r\n                wordBasedSuggestions: false,\r\n                // Prevenim modificÄƒri nedorite\r\n                dragAndDrop: false,\r\n                emptySelectionClipboard: false,\r\n                copyWithSyntaxHighlighting: true,\r\n                // Alte opÈ›iuni utile\r\n                contextmenu: true,\r\n                smoothScrolling: true,\r\n                mouseWheelZoom: false,\r\n                multiCursorModifier: 'ctrlCmd',\r\n                accessibilityVerbose: true\r\n              }}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <div className=\"editor-fallback\">\r\n            <p>Nu s-a putut Ã®ncÄƒrca editorul Monaco.</p>\r\n            <textarea\r\n              defaultValue={initialCode || defaultCode}\r\n              className=\"fallback-editor\"\r\n              rows=\"20\"\r\n              placeholder=\"Scrie codul tÄƒu Java aici...\"\r\n              aria-label=\"Editor de cod Java alternativ\"\r\n              id=\"fallback-code-editor\"\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"output-container\">\r\n        <div className=\"output-header\">\r\n          <h4>Rezultat</h4>\r\n        </div>\r\n        <pre className=\"output-content\" aria-label=\"Rezultatul execuÈ›iei codului\">\r\n          {output || 'RuleazÄƒ codul pentru a vedea rezultatul'}\r\n        </pre>\r\n      </div>\r\n\r\n      {showFeedback && (\r\n        <div className=\"feedback-container\" role=\"region\" aria-label=\"Feedback AI\">\r\n          <div className=\"feedback-header\">\r\n            <h4>Feedback AI</h4>\r\n            <button \r\n              className=\"close-feedback\" \r\n              onClick={() => setShowFeedback(false)}\r\n              aria-label=\"ÃŽnchide feedback\"\r\n            >\r\n              &times;\r\n            </button>\r\n          </div>\r\n          <div className=\"feedback-content\" aria-live=\"polite\">\r\n            {feedback}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CodeEditor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}