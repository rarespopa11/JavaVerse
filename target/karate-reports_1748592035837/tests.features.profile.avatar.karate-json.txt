{"failedCount":9,"prefixedPath":"tests\/features\/profile\/avatar.feature","packageQualifiedName":"tests.features.profile.avatar","loopIndex":-1,"relativePath":"tests\/features\/profile\/avatar.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1200600,"errorMessage":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","startTime":1748591969598,"endTime":1748591969599,"millis":1.2006,"status":"failed"},"step":{"background":true,"line":7,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"10:59:29.600 tests\/features\/profile\/avatar.feature:7\n* url baseUrl\njs failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7\n"},{"result":{"nanos":0,"startTime":1748591969600,"endTime":1748591969600,"millis":0.0,"status":"skipped"},"step":{"comments":["# Login and get token"],"background":true,"line":9,"prefix":"*","index":1,"text":"path 'users\/login'"}},{"result":{"nanos":0,"startTime":1748591969600,"endTime":1748591969600,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"request { email: '#(testUsers.valid.email)', password: '#(testUsers.valid.password)' }"}},{"result":{"nanos":0,"startTime":1748591969600,"endTime":1748591969600,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"method POST"}},{"result":{"nanos":0,"startTime":1748591969600,"endTime":1748591969600,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"def authToken = response.token"}},{"result":{"nanos":0,"startTime":1748591969600,"endTime":1748591969600,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"def userId = karate.jwt(authToken).id || karate.jwt(authToken).userId"}},{"result":{"nanos":0,"startTime":1748591969600,"endTime":1748591969600,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"startTime":1748591969600,"endTime":1748591969600,"millis":0.0,"status":"skipped"},"step":{"line":17,"prefix":"Given","index":0,"text":"path 'users', userId, 'avatar'"}},{"result":{"nanos":0,"startTime":1748591969600,"endTime":1748591969600,"millis":0.0,"status":"skipped"},"step":{"line":18,"prefix":"When","index":1,"text":"method GET"}},{"result":{"nanos":0,"startTime":1748591969600,"endTime":1748591969600,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":0,"startTime":1748591969600,"endTime":1748591969600,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"And","index":3,"text":"match response.success == true"}},{"result":{"nanos":0,"startTime":1748591969600,"endTime":1748591969600,"millis":0.0,"status":"skipped"},"step":{"endLine":28,"line":21,"prefix":"And","docString":"{\n  data: '#string',\n  type: '#string',\n  username: '#string'\n}","index":4,"text":"match response.avatar contains"}}],"line":16,"description":"","durationMillis":1.2006,"failed":true,"error":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","executorName":"main","name":"Get user avatar","startTime":1748591969598,"refId":"[1:16]","endTime":1748591969600,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":800100,"errorMessage":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","startTime":1748591969602,"endTime":1748591969603,"millis":0.8001,"status":"failed"},"step":{"background":true,"line":7,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"10:59:29.603 tests\/features\/profile\/avatar.feature:7\n* url baseUrl\njs failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7\n"},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"comments":["# Login and get token"],"background":true,"line":9,"prefix":"*","index":1,"text":"path 'users\/login'"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"request { email: '#(testUsers.valid.email)', password: '#(testUsers.valid.password)' }"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"method POST"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"def authToken = response.token"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"def userId = karate.jwt(authToken).id || karate.jwt(authToken).userId"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"Given","index":0,"text":"path 'users', userId, 'avatar'"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"endLine":38,"line":32,"prefix":"And","docString":"{\n  \"avatar\": \"ninja\",\n  \"avatarType\": \"preset\"\n}","index":1,"text":"request"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"When","index":2,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"And","index":4,"text":"match response.success == true"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"And","index":5,"text":"match response.user.avatar == 'ninja'"}},{"result":{"nanos":0,"startTime":1748591969603,"endTime":1748591969603,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"And","index":6,"text":"match response.user.avatarType == 'preset'"}}],"line":30,"description":"","durationMillis":0.8001,"failed":true,"error":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","executorName":"main","name":"Update to preset avatar","startTime":1748591969602,"refId":"[2:30]","endTime":1748591969603,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":803300,"errorMessage":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","startTime":1748591969606,"endTime":1748591969607,"millis":0.8033,"status":"failed"},"step":{"background":true,"line":7,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"10:59:29.608 tests\/features\/profile\/avatar.feature:7\n* url baseUrl\njs failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7\n"},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"comments":["# Login and get token"],"background":true,"line":9,"prefix":"*","index":1,"text":"path 'users\/login'"}},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"request { email: '#(testUsers.valid.email)', password: '#(testUsers.valid.password)' }"}},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"method POST"}},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"def authToken = response.token"}},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"def userId = karate.jwt(authToken).id || karate.jwt(authToken).userId"}},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"Given","index":0,"text":"path 'users', userId, 'avatar'"}},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"endLine":53,"line":47,"prefix":"And","docString":"{\n  \"avatar\": \"invalidpreset\",\n  \"avatarType\": \"preset\"\n}","index":1,"text":"request"}},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"line":54,"prefix":"When","index":2,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"line":55,"prefix":"Then","index":3,"text":"status 400"}},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"line":56,"prefix":"And","index":4,"text":"match response.success == false"}},{"result":{"nanos":0,"startTime":1748591969608,"endTime":1748591969608,"millis":0.0,"status":"skipped"},"step":{"line":57,"prefix":"And","index":5,"text":"match response.message contains 'Invalid preset avatar'"}}],"line":45,"description":"","durationMillis":0.8033,"failed":true,"error":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","executorName":"main","name":"Update to invalid preset avatar","startTime":1748591969606,"refId":"[3:45]","endTime":1748591969608,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":1660300,"errorMessage":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","startTime":1748591969610,"endTime":1748591969612,"millis":1.6603,"status":"failed"},"step":{"background":true,"line":7,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"10:59:29.613 tests\/features\/profile\/avatar.feature:7\n* url baseUrl\njs failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7\n"},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"comments":["# Login and get token"],"background":true,"line":9,"prefix":"*","index":1,"text":"path 'users\/login'"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"request { email: '#(testUsers.valid.email)', password: '#(testUsers.valid.password)' }"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"method POST"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"def authToken = response.token"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"def userId = karate.jwt(authToken).id || karate.jwt(authToken).userId"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"line":60,"prefix":"*","index":0,"text":"def base64Image = 'data:image\/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=='"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"line":61,"prefix":"Given","index":1,"text":"path 'users', userId, 'avatar'"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"endLine":68,"line":62,"prefix":"And","docString":"{\n  \"avatar\": \"#(base64Image)\",\n  \"avatarType\": \"custom\"\n}","index":2,"text":"request"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"line":69,"prefix":"When","index":3,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"And","index":5,"text":"match response.success == true"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"line":72,"prefix":"And","index":6,"text":"match response.user.avatarType == 'custom'"}},{"result":{"nanos":0,"startTime":1748591969613,"endTime":1748591969613,"millis":0.0,"status":"skipped"},"step":{"line":73,"prefix":"And","index":7,"text":"match response.user.avatar contains 'data:image\/'"}}],"line":59,"description":"","durationMillis":1.6603,"failed":true,"error":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","executorName":"main","name":"Update to custom avatar with base64 image","startTime":1748591969610,"refId":"[4:59]","endTime":1748591969613,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":710300,"errorMessage":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","startTime":1748591969614,"endTime":1748591969615,"millis":0.7103,"status":"failed"},"step":{"background":true,"line":7,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"10:59:29.615 tests\/features\/profile\/avatar.feature:7\n* url baseUrl\njs failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7\n"},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"comments":["# Login and get token"],"background":true,"line":9,"prefix":"*","index":1,"text":"path 'users\/login'"}},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"request { email: '#(testUsers.valid.email)', password: '#(testUsers.valid.password)' }"}},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"method POST"}},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"def authToken = response.token"}},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"def userId = karate.jwt(authToken).id || karate.jwt(authToken).userId"}},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"line":76,"prefix":"Given","index":0,"text":"path 'users', userId, 'avatar'"}},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"endLine":83,"line":77,"prefix":"And","docString":"{\n  \"avatar\": \"test\",\n  \"avatarType\": \"invalidtype\"\n}","index":1,"text":"request"}},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"line":84,"prefix":"When","index":2,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"line":85,"prefix":"Then","index":3,"text":"status 400"}},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"line":86,"prefix":"And","index":4,"text":"match response.success == false"}},{"result":{"nanos":0,"startTime":1748591969615,"endTime":1748591969615,"millis":0.0,"status":"skipped"},"step":{"line":87,"prefix":"And","index":5,"text":"match response.message contains 'Invalid avatar type'"}}],"line":75,"description":"","durationMillis":0.7103,"failed":true,"error":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","executorName":"main","name":"Update with invalid avatar type","startTime":1748591969614,"refId":"[5:75]","endTime":1748591969616,"exampleIndex":-1},{"sectionIndex":5,"stepResults":[{"result":{"nanos":748600,"errorMessage":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","startTime":1748591969617,"endTime":1748591969618,"millis":0.7486,"status":"failed"},"step":{"background":true,"line":7,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"10:59:29.618 tests\/features\/profile\/avatar.feature:7\n* url baseUrl\njs failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7\n"},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"comments":["# Login and get token"],"background":true,"line":9,"prefix":"*","index":1,"text":"path 'users\/login'"}},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"request { email: '#(testUsers.valid.email)', password: '#(testUsers.valid.password)' }"}},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"method POST"}},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"def authToken = response.token"}},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"def userId = karate.jwt(authToken).id || karate.jwt(authToken).userId"}},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"line":90,"prefix":"Given","index":0,"text":"path 'users', userId, 'avatar'"}},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"endLine":97,"line":91,"prefix":"And","docString":"{\n  \"avatar\": \"notbase64data\",\n  \"avatarType\": \"custom\"\n}","index":1,"text":"request"}},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"line":98,"prefix":"When","index":2,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"line":99,"prefix":"Then","index":3,"text":"status 400"}},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"line":100,"prefix":"And","index":4,"text":"match response.success == false"}},{"result":{"nanos":0,"startTime":1748591969618,"endTime":1748591969618,"millis":0.0,"status":"skipped"},"step":{"line":101,"prefix":"And","index":5,"text":"match response.message contains 'Invalid custom avatar data'"}}],"line":89,"description":"","durationMillis":0.7486,"failed":true,"error":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","executorName":"main","name":"Update custom avatar without image data","startTime":1748591969617,"refId":"[6:89]","endTime":1748591969618,"exampleIndex":-1},{"sectionIndex":6,"stepResults":[{"result":{"nanos":1281800,"errorMessage":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","startTime":1748591969620,"endTime":1748591969621,"millis":1.2818,"status":"failed"},"step":{"background":true,"line":7,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"10:59:29.621 tests\/features\/profile\/avatar.feature:7\n* url baseUrl\njs failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7\n"},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"comments":["# Login and get token"],"background":true,"line":9,"prefix":"*","index":1,"text":"path 'users\/login'"}},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"request { email: '#(testUsers.valid.email)', password: '#(testUsers.valid.password)' }"}},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"method POST"}},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"def authToken = response.token"}},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"def userId = karate.jwt(authToken).id || karate.jwt(authToken).userId"}},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"line":104,"prefix":"Given","index":0,"text":"path 'users', userId, 'avatar'"}},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"line":105,"prefix":"When","index":1,"text":"method DELETE"}},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"line":106,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"line":107,"prefix":"And","index":3,"text":"match response.success == true"}},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"line":108,"prefix":"And","index":4,"text":"match response.user.avatar == 'default-avatar.png'"}},{"result":{"nanos":0,"startTime":1748591969621,"endTime":1748591969621,"millis":0.0,"status":"skipped"},"step":{"line":109,"prefix":"And","index":5,"text":"match response.user.avatarType == 'default'"}}],"line":103,"description":"","durationMillis":1.2818,"failed":true,"error":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","executorName":"main","name":"Reset avatar to default","startTime":1748591969619,"refId":"[7:103]","endTime":1748591969621,"exampleIndex":-1},{"sectionIndex":7,"stepResults":[{"result":{"nanos":2143700,"errorMessage":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","startTime":1748591969625,"endTime":1748591969627,"millis":2.1437,"status":"failed"},"step":{"background":true,"line":7,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"10:59:29.627 tests\/features\/profile\/avatar.feature:7\n* url baseUrl\njs failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7\n"},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"comments":["# Login and get token"],"background":true,"line":9,"prefix":"*","index":1,"text":"path 'users\/login'"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"request { email: '#(testUsers.valid.email)', password: '#(testUsers.valid.password)' }"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"method POST"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"def authToken = response.token"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"def userId = karate.jwt(authToken).id || karate.jwt(authToken).userId"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"line":112,"prefix":"*","index":0,"text":"def fakeUserId = '123456789012345678901234'"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"line":113,"prefix":"Given","index":1,"text":"path 'users', fakeUserId, 'avatar'"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"endLine":120,"line":114,"prefix":"And","docString":"{\n  \"avatar\": \"wizard\",\n  \"avatarType\": \"preset\"\n}","index":2,"text":"request"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"line":121,"prefix":"When","index":3,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"line":122,"prefix":"Then","index":4,"text":"status 403"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"line":123,"prefix":"And","index":5,"text":"match response.success == false"}},{"result":{"nanos":0,"startTime":1748591969629,"endTime":1748591969629,"millis":0.0,"status":"skipped"},"step":{"line":124,"prefix":"And","index":6,"text":"match response.message contains 'own avatar'"}}],"line":111,"description":"","durationMillis":2.1437,"failed":true,"error":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","executorName":"main","name":"Update avatar for another user (should fail)","startTime":1748591969625,"refId":"[8:111]","endTime":1748591969629,"exampleIndex":-1},{"sectionIndex":8,"stepResults":[{"result":{"nanos":731000,"errorMessage":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","startTime":1748591969629,"endTime":1748591969630,"millis":0.731,"status":"failed"},"step":{"background":true,"line":7,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"10:59:29.630 tests\/features\/profile\/avatar.feature:7\n* url baseUrl\njs failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7\n"},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"comments":["# Login and get token"],"background":true,"line":9,"prefix":"*","index":1,"text":"path 'users\/login'"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"request { email: '#(testUsers.valid.email)', password: '#(testUsers.valid.password)' }"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"method POST"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"def authToken = response.token"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":13,"prefix":"*","index":5,"text":"def userId = karate.jwt(authToken).id || karate.jwt(authToken).userId"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"background":true,"line":14,"prefix":"*","index":6,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"line":127,"prefix":"Given","index":0,"text":"path 'users', userId, 'avatar'"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"line":128,"prefix":"When","index":1,"text":"method GET"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"line":129,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"comments":["# Verify current avatar"],"line":131,"prefix":"And","index":3,"text":"def currentAvatar = response.avatar"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"comments":["# Test switching between different presets"],"line":133,"prefix":"*","index":4,"text":"def presets = ['dev1', 'dev2', 'student1', 'student2', 'ninja', 'wizard', 'robot']"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"line":134,"prefix":"*","index":5,"text":"def preset = presets[0]"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"line":135,"prefix":"Given","index":6,"text":"path 'users', userId, 'avatar'"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"line":136,"prefix":"And","index":7,"text":"request { avatar: '#(preset)', avatarType: 'preset' }"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"line":137,"prefix":"When","index":8,"text":"method PUT"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"line":138,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":0,"startTime":1748591969631,"endTime":1748591969631,"millis":0.0,"status":"skipped"},"step":{"line":139,"prefix":"And","index":10,"text":"match response.user.avatar == preset"}}],"line":126,"description":"","durationMillis":0.731,"failed":true,"error":"js failed:\n>>>>\n01: baseUrl\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"baseUrl\" is not defined\n- <js>.:program(Unnamed:1)\n\ntests\/features\/profile\/avatar.feature:7","executorName":"main","name":"Get all preset avatars","startTime":1748591969629,"refId":"[9:126]","endTime":1748591969631,"exampleIndex":-1}],"callDepth":0,"name":"Avatar management tests","description":"As a JavaVerse user\r\n  I want to manage my avatar\r\n  So that I can personalize my profile","resultDate":"2025-05-30 10:59:29 AM","durationMillis":10.0797,"passedCount":0}